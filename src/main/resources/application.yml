# Performance enhancements
server.compression:
  enabled: true
  mime-types: application/json,application/xml,text/html,text/plain,text/css,application/javascript
  min-response-size: 1KB

---
spring:
  threads:
    virtual:
      enabled: true # Performance enhancements when platform thread is freed while the virtual thread parks. This improves scalability for blocking workloads.
  main:
    lazy-initialization: true # Performance enhancements for Lazy-Init by - reducing startup time by deferring bean instantiation; it can increase first-use latency and defer errors to runtime
  docker:
    compose:
      file: src/main/resources/dc/dev-env.yml
  jpa:
    hibernate:
      ddl-auto: validate
    properties:
      hibernate:
        use_sql_comments: true
        # Enforce lazy loading globally
        enable_lazy_load_no_trans: false
        # Show SQL for debugging (disable in production)
        show_sql: false
        format_sql: true
        # Batch fetching optimization
        default_batch_fetch_size: 10
        # Enforce strict lazy loading
        bytecode:
          use_reflection_optimizer: false
    # Ensure lazy loading is default
    open-in-view: false
  liquibase:
    change-log: classpath:db/changelog/db.changelog-master.yaml
  datasource:
    hikari:
      auto-commit: true
      connection-timeout: 2000
      minimum-idle: 5
      maximum-pool-size: 65

---
global:
  search:
    sort-field: id
    limit: 30
    sort-direction: asc

customer:
  search:
    sort-field: name
    limit: 20
    sort-direction: asc